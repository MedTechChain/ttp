# MedTech Chain - Trusted Third Party

Backend API for the Trusted Third Party managing key generation, encryption, and decryption with various encryption schemes.

## Endpoints

### Get Paillier Encryption Key

`GET http://localhost:6000/api/paillier/key?bitLengthParam=2048`

#### Request Headers

`None`

#### Query Params

`bitLengthParam=2048`

#### Example

##### Request

```shell
curl --location --request GET 'http://localhost:6000/api/paillier/key?bitLengthParam=2048'
```

##### Response

This is the modulus of the encryption key, aka the public key.

`200 OK`

```json
{
    "n": "17111853419442015513667408743048178768992586703942887695085656969810194483008113245276738307165604225298803675346255133758663348155001435145470321819610794775767235225634433970080967506240066526095500756446352381760041325976386772502177963144218093788535337251628294614659605608779946742931750776544866082321838921154964965365793475584587027808419221020567632044752615669486555047801643969406512771881861552886331833094643419981558086023879492161716422673397314386770781003575693026493300861483255655899493530370058811137518059580850889023039266611582036100667243196958726525298039486135865668324634719787141067796487"
}
```

### Encrypt Paillier

`POST http://localhost:6000/api/paillier/encrypt?bitLengthParam=2048`

#### Request Headers

| Header       | Value            |
| ------------ | ---------------- |
| Content-Type | application/json |

#### Query Params

`bitLengthParam=2048`

#### Example

##### Request

```shell
curl --location --request POST 'http://localhost:6000/api/paillier/encrypt?bitLengthParam=2048' \
--header 'Content-Type: application/json' \
--data-raw '{"plaintext": 42}'
```

##### Response

This encrypts the given plaintext. This endpoint is for testing.

`200 OK`

```json
{
    "ciphertext": "{\"raw\":\"30745620115659021027300178124507743511827161018780785440147045999958501929242191988346861731164014333664263872306217889222972388761998707248437216340796354983877875764997397090369787284058772300449220260784226283485923033089403045329893204493340908806861687301087122131672235821880490476894332950137220988690831808257012122880036811453618259463728220865284720598778245587209445026611002460139773753434914006953846735736394114800305305439379233694467820542476972957648830943791992091316046121968242915036113223735288029327021962998186151588540359469941271725087436069734492373131673996571797731313588083163252572283200118963379752358553107133819471046113410176673127508854442941596112690332567331070484875784522607768054164229021313364475110944556673222148108336425888858989592689650230679858683725946132552507609019622418639184858272242775553451552044341103972511911418414415012839931978158918047536730349428079109309443482967621106415032075975685878422742624331366041919827148551770696530980692384152601509441053239487673842011554805555931614331847759463040071701325889376777266796489266602546503036366602495306801315389585962895514061605275617008273420353676411676386838705047717885560087241904204399599955588957081255151223762972\",\"components\":1,\"_phantom\":null}"
}
```

### Decrypt Paillier

`POST http://localhost:6000/api/paillier/decrypt?bitLengthParam=2048`

#### Request Headers

| Header       | Value            |
| ------------ | ---------------- |
| Content-Type | application/json |

#### Query Params

`bitLengthParam=2048`

#### Example

##### Request

```shell
curl --location --request POST 'http://localhost:6000/api/paillier/decrypt?bitLengthParam=2048' \
--header 'Content-Type: application/json' \
--data-raw '{
    "raw": "207878324029970829599346335803409985796338171624230948130023169285398847264411003213176978023006954796737419538989535082560047383488388459381002946492112686968883257971847855877691568237490107766217072035839577061347904089801582526115280641693200488953592516237666798366961726136173340832801417319257310092686950436276791842307332697370000364101537363829544881011176392289266633602036509127571233634589987187198019575000027503431041406748902476432071658756007977834186455843011484507253784989812682109448091604064958070499256837116467234912884827162824459590996029724580323766687355311232869465231564054640870263424156570673362243645587991522785885814404626502659577908848946937111193875760419726646050620000033738548751840347803473551495768580214050946655621012523470561361067981898912030807106290221297057851524246300018405885893684457834974660634105747111140027676079619965613591534273872077487371646290338570516752577745852010060689823699195576529693451305612199202336633806545034358214001400532588280375503462769600669240366943878403077960580726988587670740316526598141796114744573765122743217232553468186636934698343283530868549253107563651874079281597931851208467956228025032980335565971924060641370391530937877048405326953969",
    "components": 1,
    "_phantom": null
}'
```

##### Response

This decrypts the given ciphertext.

`200 OK`

```json
{
    "plaintext": 42
}
```
